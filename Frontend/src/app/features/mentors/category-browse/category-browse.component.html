<!-- Category Browse Component -->
<section class="category-browse-section min-h-[calc(100vh-5rem)] py-6 md:py-8 flex flex-col">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Header -->
    <div class="text-center mb-6 md:mb-8">
      <h1 class="text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mb-2">
        Browse by Category
      </h1>
      <p class="text-gray-600 dark:text-gray-400">
        Explore mentorship categories and find experts in your field of interest
      </p>
    </div>

    <!-- Error State -->
    <div *ngIf="error" class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6">
      <div class="flex items-center">
        <i class="bi bi-exclamation-circle text-red-500 mr-3"></i>
        <div>
          <h3 class="text-red-800 dark:text-red-200 font-medium">Error Loading Categories</h3>
          <p class="text-red-600 dark:text-red-400 text-sm mt-1">{{ error }}</p>
        </div>
      </div>
      <button (click)="refreshCategories()" class="mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium">
        Try Again
      </button>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading && !error" class="flex justify-center items-center py-12">
      <div class="animate-spin rounded-full h-10 w-10 border-b-2 border-primary"></div>
      <span class="ml-3 text-gray-600 dark:text-gray-400">Loading categories...</span>
    </div>

    <!-- Categories Grid -->
    <div *ngIf="!loading && !error && categories.length > 0" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-5">
      <div 
        *ngFor="let category of categories; trackBy: trackByCategoryId"
        (click)="onCategoryClick(category)"
        class="group bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 cursor-pointer border border-gray-100 dark:border-gray-700 hover:border-primary/30 transform hover:-translate-y-1">
        
        <!-- Category Icon -->
        <div class="flex justify-center mb-3">
          <div class="w-12 h-12 bg-gradient-to-br from-primary/10 to-primary/20 dark:from-primary/20 dark:to-primary/30 rounded-xl flex items-center justify-center text-2xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300">
            <span *ngIf="category.iconUrl">{{ category.iconUrl }}</span>
            <svg *ngIf="!category.iconUrl" class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
            </svg>
          </div>
        </div>

        <!-- Category Name -->
        <h3 class="text-sm font-semibold text-gray-800 dark:text-white text-center mb-2 group-hover:text-primary transition-colors line-clamp-2">
          {{ category.name }}
        </h3>

        <!-- Mentor Count Badge -->
        <div class="flex justify-center">
          <span class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 group-hover:bg-primary/10 group-hover:text-primary transition-colors">
            <svg class="w-3.5 h-3.5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"></path>
            </svg>
            {{ getMentorCountText(category) }}
          </span>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="!loading && !error && categories.length === 0" class="text-center py-12">
      <div class="w-20 h-20 mx-auto mb-4 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center">
        <i class="bi bi-grid text-3xl text-gray-400"></i>
      </div>
      <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">No Categories Available</h3>
      <p class="text-gray-600 dark:text-gray-400 mb-4">
        There are currently no categories available. Please check back later.
      </p>
      <button (click)="refreshCategories()" class="px-5 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors font-medium">
        Refresh
      </button>
    </div>

    <!-- Browse All Mentors CTA -->
    <div *ngIf="!loading && !error && categories.length > 0" class="mt-8 text-center">
      <p class="text-gray-600 dark:text-gray-400 mb-3">
        Can't find what you're looking for?
      </p>
      <button 
        (click)="onBrowseAllMentors()"
        class="inline-flex items-center px-5 py-2.5 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors font-medium">
        <span>Browse All Mentors</span>
        <i class="bi bi-search ml-2"></i>
      </button>
    </div>
  </div>
</section>
